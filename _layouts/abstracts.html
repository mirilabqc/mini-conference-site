{% include partials/header.html %}

  <h1 class="display-5 {% if nbr_days > 1 -%} mb-2 {%- else -%} mb-4 {%- endif %} text-break">
    {%- if page.title -%}
      {{- page.title -}}
    {%- else -%}
      {{- site.data.lang[site.conference.lang].agenda.title | default: "Agenda" -}}
    {%- endif -%}
  </h1>

  <div class="container">

  {%- comment -%}
    Loop all talk pages (/_talks/*.md), sort alphabetically by talk.name,
    skip any with hide: true, then print name, speakers (+ institutions),
    and finally the body of the talk page as its abstract.
  {%- endcomment -%}
  {% assign talks = site.talks | sort: "name" %}
  {% for talk in talks %}
    {% unless talk.hide %}
      <hr class="my-0">
      <hr class="my-0">
      <p class="my-4"></p>
      <section id="{{ talk.slug }}" class="mb-5">
        <h2>{{ talk.name }}</h2>
        {% if talk.speakers %}
          <p>
            {% for sp in talk.speakers %}
              {%- comment -%}
                Support two speaker-list formats:
                1) a simple string: “Daniel Brunner”
                2) an object: { name: “Daniel Brunner”, institution: “CNRS” }
              {%- endcomment -%}
              {% if sp.name %}
                {{ sp.name }}{% if sp.institution %}, {{ sp.institution }}{% endif %}
              {% else %}
                {{ sp }}
              {% endif %}
              {% unless forloop.last %}; {% endunless %}
            {% endfor %}
          </p>
        {% endif %}
        <div class="abstract">
          {{ talk.abstract | markdownify }}
        </div>
      </section>
    {% endunless %}
  {% endfor %}
      <hr class="my-0">
      <hr class="my-0">

  </div>

{% include partials/footer.html %}

