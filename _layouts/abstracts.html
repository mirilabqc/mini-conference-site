{% include partials/header.html %}

<h1 class="display-5 mb-4 text-break">
  {{ page.title | default: "Abstracts" }}
</h1>

<div class="container">

  {%- for d in site.data.program.days -%}
  {%- comment -%} flatten and sort talks by start time {%- endcomment -%}
    {% assign flat = "" | split: "" %}
    {% for room in d.rooms %}
      {% for t in room.talks %}
        {% assign entry = t | merge: { "room": room.name } %}
        {% assign flat = flat | push: entry %}
      {% endfor %}
    {% endfor %}
    {% assign sorted = flat | sort: "time_start" %}
  
  {% for talk in sorted %}
    {% unless talk.hide %}
      <hr class="my-4">

      <section id="{{ talk.slug }}" class="mb-5">
        <h2>
          <a href="{{ site.baseurl }}{{ talk.url }}">
            {{ talk.name }}
          </a>
        </h2>

        {% if talk.speakers %}
          <p class="mb-3 font-weight-light">
            {% for sp in talk.speakers %}
              {% if sp.name %}
                {{ sp.name }}{% if sp.institution %}, {{ sp.institution }}{% endif %}
              {% else %}
                {{ sp }}
              {% endif %}
              {% unless forloop.last %}; {% endunless %}
            {% endfor %}
          </p>
        {% endif %}

        <div class="abstract mb-3">
          {{ talk.abstract | markdownify }}
        </div>

      </section>
    {% endunless %}
  {% endfor %}

  {%- endfor -%}

</div>

{% include partials/footer.html %}

